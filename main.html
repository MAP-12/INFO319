<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head window.onload>
    <meta charset="utf-8">
    <title>INFO319</title>
    
    <link
      rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />

    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>

    <script type="text/javascript" src="leaf.js"
    ></script>

    <style>
      #covidMap {
        height: 900px;
      }
    </style>
</head>


  <body>
    <div id="covidMap"></div>

    <script>
      const mymap = L.map('covidMap').setView([60.392, 5.335], 13);

      const attribution = 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>';
      const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
      const tiles = L.tileLayer(tileUrl, { attribution });
      tiles.addTo(mymap);
      var i = 0; 
      
      function writingCircles(){
        if(i==0){
          setTimeout(drawCircle(55,12,499),500);
          i++;
        }else if(i==1){
          setTimeout(drawCircle(21.9,-159.4,1000), 1000);            
          i++;
        }else if(i==2){
          setTimeout(drawCircle( 34.6, -81.9, 1000), 1500);
          i++;
        }else if(i==3){
          setTimeout(drawCircle(35, -4, 2000), 2000);            
          i++;
        }else if(i==4){
          setTimeout(drawCircle(30 -6, 2000), 2500);
          i++;
        }else if(i==5){
          setTimeout(drawCircle(38, 9, 5000), 3000);
          i++;
        }
      }
      

      function drawCircle(lat, long, infectionRate){
       if(lat == null && long == null && infectionRate == null){ 
        var lat = 60.392;
        var long = 5.353;
        var infectionRate = 499; 
      }

      if(infectionRate <= 500){

        var circle = L.circle([lat,long], {
        color: 'orange',
        fillColor: 'f03',
        fillOpacity: 0.5, 
        radius: 1000}).addTo(mymap)

      }else if(infectionRate <= 1000){
        
        var circle = L.circle([lat,long], {
        color: 'red',
        fillColor: 'f03',
        fillOpacity: 0.5, 
        radius: 5000}).addTo(mymap)

      }else{
        
        var circle = L.circle([lat,long], {
        color: 'red',
        fillColor: 'f03',
        fillOpacity: 0.5, 
        radius: 10000}).addTo(mymap)

        }
      }  

      //drawCircle();
    </script>

    
    <button onclick=writingCircles()>click me to draw a circle</button>
    
  </body>
</html>
